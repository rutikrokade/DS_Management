<div class="container-fluid px-4">
 
  <!-- HEADER -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="page-title">
      <i class="bi bi-person-badge-fill me-2"></i> Teachers
    </h3>
 
    <button class="btn btn-warning text-white fw-semibold"
        (click)="openCreateModal()">
  <i class="bi bi-plus-circle me-1"></i> Add Teacher
</button>
 
  </div>
 
  <!-- TABLE -->
  <div class="card shadow-sm">
    <table class="table table-bordered align-middle mb-0">
      <thead class="table-header">
        <tr>
          <th>Teacher Name</th>
          <th>Contact</th>
          <th>Email</th>
          <th>Qualification</th>
          <th>Experience</th>
          <th>Gender</th>
          <th>Actions</th>
        </tr>
      </thead>
 
      <tbody>
        <tr *ngFor="let t of teachers">
          <td>{{ t.firstName }} {{ t.lastName }}</td>
          <td>{{ t.phone || 'N/A' }}</td>
          <td>{{ t.email }}</td>
          <td>{{ t.qualification }}</td>
          <td>{{ t.experienceYears }} yrs</td>
          <td>{{ t.gender }}</td>
          <td class="text-center">
             <button class="btn btn-outline-primary btn-sm me-2"
        (click)="editTeacher(t)">
  <i class="bi bi-pencil"></i>
</button>
<button class="btn btn-outline-danger btn-sm"
        (click)="deleteTeacher(t.id)">
  <i class="bi bi-trash"></i>
</button>
 
          </td>
        </tr>
 
        <tr *ngIf="teachers.length === 0">
          <td colspan="7" class="text-center text-muted">
            No Teachers Found
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
 
<!-- ================= ADD TEACHER MODAL ================= -->
<div class="modal fade" id="teacherModal" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
 
      <!-- MODAL HEADER -->
      <div class="modal-header bg-warning text-white">
        <h5 class="modal-title">
          <i class="bi bi-person-plus-fill me-2"></i> Create Teacher
        </h5>
        <button type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"></button>
      </div>
 
      <!-- FORM -->
      <form [formGroup]="teacherForm" (ngSubmit)="onSubmit()">
        <div class="modal-body">
 
          <!-- SUCCESS MESSAGE -->
<div *ngIf="successMessage"
     class="alert alert-success alert-dismissible fade show">
  {{ successMessage }}
  <button class="btn-close"
          (click)="successMessage=''"></button>
</div>
 
<div *ngIf="errorMessage"
     class="alert alert-danger alert-dismissible fade show">
  {{ errorMessage }}
  <button class="btn-close"
          (click)="errorMessage=''"></button>
</div>
 
          <div class="row">
 
            <!-- First Name -->
            <div class="col-md-6 mb-3">
              <label class="form-label">First Name</label>
              <input type="text"
                     class="form-control"
                     formControlName="firstName">
            </div>
 
            <!-- Last Name -->
            <div class="col-md-6 mb-3">
              <label class="form-label">Last Name</label>
              <input type="text"
                     class="form-control"
                     formControlName="lastName">
            </div>
 
            <!-- Email -->
            <div class="col-md-6 mb-3">
              <label class="form-label">Email</label>
              <input type="email"
                     class="form-control"
                     formControlName="email">
            </div>
 
            <!-- Phone -->
            <div class="col-md-6 mb-3">
              <label class="form-label">Phone</label>
              <input type="text"
                     class="form-control"
                     formControlName="phone">
            </div>
 
            <!-- Qualification -->
            <div class="col-md-6 mb-3">
              <label class="form-label">Qualification</label>
              <input type="text"
                     class="form-control"
                     formControlName="qualification">
            </div>
 
            <!-- Experience -->
            <div class="col-md-3 mb-3">
              <label class="form-label">Experience (Years)</label>
              <input type="number"
                     class="form-control"
                     formControlName="experienceYears">
            </div>
 
            <!-- Gender -->
            <div class="col-md-3 mb-3">
              <label class="form-label">Gender</label>
              <select class="form-select"
                      formControlName="gender">
                <option value="">Select</option>
                <option value="MALE">Male</option>
                <option value="FEMALE">Female</option>
              </select>
            </div>
 
            <!-- DOB -->
            <div class="col-md-6 mb-3">
              <label class="form-label">Date of Birth</label>
              <input type="date"
                     class="form-control"
                     formControlName="dateOfBirth">
            </div>
 
          </div>
 
          <!-- ASSIGN AS CLASS TEACHER -->
          <div class="form-check mb-3">
            <input class="form-check-input"
                   type="checkbox"
                   formControlName="assignedAsClassTeacher">
            <label class="form-check-label">
              Assign as Class Teacher
            </label>
          </div>
 
          <!-- CLASS & SECTION (ONLY IF CHECKED) -->
         <div class="row"
     [hidden]="!teacherForm.get('assignedAsClassTeacher')?.value">
 
  <div class="col-md-6 mb-3">
    <label class="form-label">Class ID</label>
    <input type="number"
           class="form-control"
           formControlName="classId"
           [readonly]="editMode">
  </div>
 
  <div class="col-md-6 mb-3">
    <label class="form-label">Section ID</label>
    <input type="number"
           class="form-control"
           formControlName="sectionId"
           [readonly]="editMode">
  </div>
 
</div>
 
        <!-- MODAL FOOTER -->
        <div class="modal-footer">
          <button type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal">
            Cancel
          </button>
 
          <button type="submit"
                  class="btn btn-warning text-white">
            Save Teacher
          </button>
        </div>
   
 
    </div>
 
 
 <!-- TOAST -->
<div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1100">
 
  <div id="appToast"
       class="toast align-items-center text-white border-0"
       role="alert"
       aria-live="assertive"
       aria-atomic="true">
 
    <div class="d-flex">
      <div class="toast-body">
        {{ toastMessage }}
      </div>
      <button type="button"
              class="btn-close btn-close-white me-2 m-auto"
              data-bs-dismiss="toast"></button>
    </div>
 
  </div>
 
</div>
 