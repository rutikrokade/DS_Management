<!-- Bootstrap Role-Based User Registration UI -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

<!-- Background Wrapper -->
<div style="background: linear-gradient(135deg, #343a40 0%, #ffc107 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;">

  <div class="card shadow-lg p-4" style="width: 420px; border-radius: 18px;">
    <span class="close-btn" (click)="goStatus()">âœ–</span> 

    <h3 class="text-center mb-4">Create User</h3>

    <form [formGroup]="registerForm" (ngSubmit)="registerUser()">

      <div class="popup" *ngIf="showPopup">
        {{ popupMessage }}
      </div>

      <!-- Username -->
      <div class="mb-3">
        <label class="form-label">Username</label>
        <input type="text"
               class="form-control"
               formControlName="username"
               placeholder="Enter Username" />
      </div>

      <!-- Email -->
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email"
               class="form-control"
               formControlName="email"
               placeholder="Enter Email" />
      </div>

      <!-- âœ… Password with i / eye button -->
      <div class="mb-3 position-relative">
        <label class="form-label">Password</label>

        <input
          class="form-control"
          [type]="showPassword ? 'text' : 'password'"
          formControlName="password"
          placeholder="Enter Password" />

        <!-- ðŸ‘ i / Eye Button -->
        <i
          class="bi"
          [ngClass]="showPassword ? 'bi-eye-slash-fill' : 'bi-eye-fill'"
          (click)="togglePassword()"
          title="Show / Hide Password"
          style="
            position: absolute;
            top: 38px;
            right: 12px;
            cursor: pointer;
            font-size: 18px;
            color: #333;
          ">
        </i>
      </div>

      <!-- Role Dropdown -->
      <div class="mb-3">
        <label class="form-label">Select Role</label>
        <select class="form-select" formControlName="role">
          <option value="">Choose Role</option>
          <option *ngFor="let r of roles" [value]="r">{{ r }}</option>
        </select>
      </div>

      <button type="submit"
              class="btn w-100"
              [disabled]="registerForm.invalid"
              style="background: linear-gradient(135deg, #343a40 0%, #ffc107 100%);
                     border: none;
                     color: #fff;">
        Create User
      </button>

    </form>
  </div>
</div>
