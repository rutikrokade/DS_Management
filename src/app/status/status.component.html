<div class="d-flex justify-content-between align-items-center mb-3">
  
  <!-- ⬅ Back Button -->
  <button
    class="btn btn-outline-secondary btn-sm"
    (click)="goToLogin()">
    ← Back to Login
  </button>

  

  <!-- empty space for alignment -->
  <div></div>
</div>
<h2 class="text-center fw-bold mb-4">Users Status</h2>

<div class="table-responsive shadow-sm rounded">
  <table class="table table-hover align-middle mb-0">
    <thead class="table-dark text-center">
      <tr>
        <th>User ID</th>
        <th>Username</th>
        <th>Email</th>
        <th>Role</th>
        <th>Status</th>
        <th>Approved</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody class="text-center">
      <tr *ngFor="let u of users">
        <td class="fw-semibold">{{ u.userId ?? u.id }}</td>

        <td>{{ u.username }}</td>

        <td class="text-break">{{ u.email }}</td>

        <!-- Role Badge -->
        <td>
          <span class="badge bg-info text-dark text-uppercase">
            {{ u.role }}
          </span>
        </td>

        <!-- Status Badge -->
        <td>
          <span 
            class="badge"
            [ngClass]="{
              'bg-success': u.status === 'ACTIVE',
              'bg-secondary': u.status === 'INACTIVE',
              'bg-warning text-dark': !u.status
            }">
            {{ u.status || 'UNKNOWN' }}
          </span>
        </td>

        <!-- Approved -->
        <td>
          <span *ngIf="u.approved === true" class="badge bg-success">Yes</span>
          <span *ngIf="u.approved === false" class="badge bg-danger">No</span>
          <span *ngIf="u.approved == null" class="badge bg-secondary">—</span>
        </td>

        <!-- Actions -->
        <td>
          <div class="d-flex justify-content-center gap-2 flex-wrap">
            <button 
              class="btn btn-sm btn-outline-success"
              (click)="approve(u)"
              [disabled]="u.approved === true || u.status === 'ACTIVE'">
              ✔ Approve
            </button>

            <button 
              class="btn btn-sm btn-outline-danger"
              (click)="reject(u)"
              [disabled]="u.approved === false || u.status === 'INACTIVE'">
              ✖ Reject
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
